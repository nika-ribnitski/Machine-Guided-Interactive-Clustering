(this["webpackJsonpinteractive-constrained-clustering"]=this["webpackJsonpinteractive-constrained-clustering"]||[]).push([[0],{130:function(t,e,n){},153:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/clusterImg1.28908edd.png"},154:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/clusterImg2.efb5d52c.png"},155:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/clusterImg3.ab3363fb.png"},156:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/clusterImg4.ab3363fb.png"},157:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/clusterImg5.ab3363fb.png"},158:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/clusterImg6.ab3363fb.png"},159:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/clusterImg7.efb5d52c.png"},170:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/finalized_model.84d2dcac.sav"},172:function(t,e,n){"use strict";n.r(e);var s=n(1),a=n(0),r=n.n(a),c=n(41),i=n.n(c),o=n(44),l=n(9),j=n(8),u=n(14),d=n(13),h=(n(130),n(76)),b=n.n(h),m=n(10),x=n(65),O=n(97),p=n.n(O),f=n(113),g=n(114),v=n.n(g),C=function t(){Object(l.a)(this,t),this.filename="",this.questionsPerIteration="",this.numberOfClusters="",this.maxConstraintPercent="",this.ml=[],this.cl=[],this.unknown=[]},N=function t(e,n,s,a,r,c,i,o){Object(l.a)(this,t);var j=r-1;this.clConstraintCount=e,this.mlConstraintCount=n,this.unknownConstraintCount=s,this.maxConstraint=a,this.possibleConstraints=j*j,this.totalConstraints=e+n+s,this.constraintsLeft=this.possibleConstraints*(a/100)-this.totalConstraints,this.constrainedPercent=Math.ceil(this.totalConstraints/(this.possibleConstraints*(a/100))*100),this.silAvg=Math.round(1e3*c)/1e3,this.silMax=Math.round(1e3*i)/1e3,this.silMin=Math.round(1e3*o)/1e3},I=function(){function t(e){Object(l.a)(this,t),this.question_set=this.convertIncomingSet(e)}return Object(j.a)(t,[{key:"convertIncomingSet",value:function(t){var e=t.substring(1,t.length-1).split(",");return e.forEach((function(t,e,n){n[e]=parseInt(t.trim())})),e}}]),t}(),k=n(64),y=n(74),w=n(73),P=n(92),S=n(177),M=n(178),F=n(48),A=function(t){var e=Object(k.c)(t),n=Object(F.a)(e,2),a=n[0],r=n[1];return Object(s.jsxs)("div",{children:[""!==t.label?Object(s.jsx)("label",{htmlFor:t.name,className:"pt-2",children:t.label}):null,Object(s.jsx)("input",Object(o.a)(Object(o.a)({className:"form-control",type:"string"},a),t)),r.touched&&r.error?Object(s.jsx)("div",{className:"error",children:r.error}):null]})},q=function(t){var e=Object(k.c)(t),n=Object(F.a)(e,2),a=n[0],r=n[1];return Object(s.jsxs)("div",{children:[""!==t.label?Object(s.jsx)("label",{htmlFor:t.name,className:"pt-2",children:t.label}):null,Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",Object(o.a)(Object(o.a)({className:"form-control",type:"string"},a),t)),Object(s.jsx)("div",{className:"input-group-append rounded-right",children:Object(s.jsx)("span",{className:"input-group-text smaller",children:"%"})})]}),r.touched&&r.error?Object(s.jsx)("div",{className:"error",children:r.error}):null]})},L=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(t){var s;return Object(l.a)(this,n),(s=e.call(this,t)).el=r.a.createRef(),s.file=null,s.path=null,s.name=null,s.fileName="Choose Dataset",s}return Object(j.a)(n,[{key:"render",value:function(){var t=this;return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(it.Consumer,{children:function(e){var n=function(){var e,n=new FormData;n.append("file",t.file),e="http://localhost:3000"===window.location.origin?"http://localhost:4500":window.location.origin,console.log(e),b.a.post(e+"/upload",n,{}).then((function(n){t.name=n.data.name,t.path=e+n.data.path})).catch((function(t){return console.log(t.response)}))};return Object(s.jsx)("div",{className:"outerBorders w-75",children:Object(s.jsx)(S.a,{className:"border border-dark",children:Object(s.jsxs)(S.a.Body,{children:[Object(s.jsx)(S.a.Title,{className:"text-center",children:"Input Your Information"}),Object(s.jsx)("label",{className:"pt-2",children:"Upload a Numerical Dataset"}),Object(s.jsx)("div",{className:"input-group",children:Object(s.jsxs)("div",{className:"custom-file",children:[Object(s.jsx)("input",{type:"file",className:"custom-file-input",ref:t.el,accept:".csv",onChange:function(n){if(new RegExp("(.*?)(csv)$").test(t.el.current.value.toLowerCase())){t.fileName=t.el.current.value.split("\\")[2],t.file=n.target.files[0];var s=new FileReader;s.addEventListener("load",(function(t){e.saveData(v.a.parse(t.target.result.trim()))})),s.readAsText(t.file)}else t.el.current.value="",alert("Please select correct file format")}}),Object(s.jsx)("label",{className:"custom-file-label",children:t.fileName})]})}),Object(s.jsx)(k.b,{initialValues:new C,validationSchema:y.b({questionsPerIteration:y.a().typeError("Must be a number.").required("Need this value to determine questions I can ask you."),numberOfClusters:y.a().typeError("Must be a number.").required("Need this value to know the cluster amount based on your dataset."),maxConstraintPercent:y.a().typeError("Must be a number.").required("Need this so I can help you stop when you are ready.")}),onSubmit:function(){var s=Object(f.a)(p.a.mark((function s(a){return p.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a.filename=t.fileName,e.verifiedInput(),a.questionsPerIteration%2!==0&&(a.questionsPerIteration=parseInt(a.questionsPerIteration)-1),e.saveForm(a),e.trackPython([],[],[]),n(),t.props.history.push("/questions");case 8:case"end":return s.stop()}}),s)})));return function(t){return s.apply(this,arguments)}}(),children:Object(s.jsxs)(k.a,{children:[Object(s.jsx)(w.a,{children:Object(s.jsx)(P.a,{children:Object(s.jsx)(A,{label:"Questions per Iteration",name:"questionsPerIteration",placeholder:""})})}),Object(s.jsx)(w.a,{children:Object(s.jsx)(P.a,{children:Object(s.jsx)(A,{label:"Number of Clusters",name:"numberOfClusters",placeholder:""})})}),Object(s.jsx)(w.a,{children:Object(s.jsx)(P.a,{children:Object(s.jsx)(q,{label:"Max Constraint Percentage",name:"maxConstraintPercent",placeholder:""})})}),Object(s.jsx)(w.a,{className:"align-middle align-items-center text-center",children:Object(s.jsx)(M.a,{type:"submit",className:"mt-3",children:"Start"})})]})})]})})})}})})}}]),n}(a.Component),T=Object(m.g)(L),B=n(176);var D=function(t){var e=Object(a.useState)(t.show),n=Object(F.a)(e,2),r=n[0],c=n[1];return Object(s.jsx)("div",{children:Object(s.jsx)("div",{className:"notification bg-danger",children:Object(s.jsxs)(B.a,{show:r,onClose:function(){return c(!r)},children:[Object(s.jsx)(B.a.Header,{className:"bg-danger",children:Object(s.jsx)("strong",{className:"mr-auto text-white",children:"Interactive Constrained Clustering"})}),Object(s.jsx)(B.a.Body,{children:t.text})]})})})},E=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(it.Consumer,{children:function(t){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(D,{text:t.errorMessage,show:t.error}),Object(s.jsxs)("div",{className:"rowNoMargin imgSection",children:[Object(s.jsx)(P.a,{className:"col-sm-6 align-middle align-items-center text-center leftHalf",children:Object(s.jsx)("h1",{className:"text-white titleFontSize",children:"Interactive Constrained Clustering"})}),Object(s.jsx)(P.a,{className:"col-sm-6 align-middle align-items-center",children:Object(s.jsx)(T,{})})]})]})}})})}}]),n}(a.Component),R=function(t){return Object(s.jsx)("div",{children:Object(s.jsxs)(S.a,{className:"bg-dark",children:[Object(s.jsx)(S.a.Img,{src:t.imgSrc,alt:"Card image"}),Object(s.jsx)(S.a.ImgOverlay,{className:"lessImagePadding text-center",children:Object(s.jsxs)(S.a.Title,{children:["Iteration ",t.iteration]})})]})})},U=n(175),Q=function(t){Object(u.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).iterationCount=t.iterationCount,n}return Object(j.a)(a,[{key:"getImageArr",value:function(){for(var t=[],e=[],s=0;s<this.iterationCount;s++)e.push(n(95)("./clusterImg"+(s+1)+".png").default),3===e.length&&(t.push(e),e=[]);return e.length&&t.push(e),t}},{key:"render",value:function(){var t=this.getImageArr(),e=0;return Object(s.jsx)("div",{children:t.map((function(t,n){return Object(s.jsxs)("div",{className:"rowNoMargin",children:[t.map((function(t){return e+=1,Object(s.jsx)(P.a,{children:Object(s.jsx)("div",{className:"outerBorders",children:Object(s.jsx)(R,{iteration:e,imgSrc:t})})},e)})),e%3===1?Object(s.jsx)(P.a,{}):null,e%3===1?Object(s.jsx)(P.a,{}):null,e%3===2?Object(s.jsx)(P.a,{}):null]},n)}))})}}]),a}(a.Component);function _(){var t=Object(a.useState)(!1),e=Object(F.a)(t,2),n=e[0],r=e[1],c=function(){return r(!1)},i=function(){return r(!0)};return Object(s.jsx)(it.Consumer,{children:function(t){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(M.a,{variant:"primary",className:"btn-block",onClick:i,children:"View Images"}),Object(s.jsxs)(U.a,{show:n,onHide:c,dialogClassName:"modal-90w",backdrop:"static",keyboard:!1,children:[Object(s.jsx)(U.a.Header,{closeButton:!0,children:Object(s.jsx)(U.a.Title,{children:"Iteration Images"})}),Object(s.jsx)(U.a.Body,{children:Object(s.jsx)(Q,{iterationCount:t.iterationCount})}),Object(s.jsx)(U.a.Footer,{children:Object(s.jsx)(M.a,{variant:"secondary",onClick:c,children:"Close"})})]})]})}})}var V=n(75),z=n(174),H=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(t){var s;return Object(l.a)(this,n),(s=e.call(this,t)).increaseIndex=function(){s.setState((function(t){return{questionIndex:t.questionIndex+2,sample1:s.getSample(s.dataArr,s.set,0,t.questionIndex+2),sample2:s.getSample(s.dataArr,s.set,1,t.questionIndex+2)}}))},s.getSample=function(t,e,n,a){try{return t[e[a+n]]}catch(r){return s.featuresArr}},s.dataArr=t.dataArr.data,s.set=t.set,s.featuresArr=t.dataArr.data[0],s.state={questionIndex:0,sample1:s.getSample(s.dataArr,s.set,0,0),sample2:s.getSample(s.dataArr,s.set,1,0)},n.instance=Object(V.a)(s),s}return Object(j.a)(n,[{key:"render",value:function(){var t=this;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(z.a,{striped:!0,bordered:!0,size:"sm",className:"marginBottom0",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{className:"text-center",children:"Features"}),Object(s.jsxs)("th",{className:"text-center",children:["Sample ",void 0===this.set?"":this.set[this.state.questionIndex]]}),Object(s.jsxs)("th",{className:"text-center",children:["Sample ",void 0===this.set?"":this.set[this.state.questionIndex+1]]})]})}),Object(s.jsx)("tbody",{children:this.featuresArr.map((function(e,n){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e}),Object(s.jsx)("td",{children:t.state.sample1[n]}),Object(s.jsx)("td",{children:t.state.sample2[n]})]},n)}))})]})})}}]),n}(a.Component);H.instance=H,H.getInstance=function(){return H.instance};var J=H,X=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(t){var s;return Object(l.a)(this,n),(s=e.call(this,t)).increaseQuestion=function(){s.setState((function(t){return{questionNum:t.questionNum+1}})),s.index+=2},s.handleMustLink=function(){s.mlArr.push(s.set[s.index]),s.mlArr.push(s.set[s.index+1]),s.handleClick()},s.handleCantLink=function(){s.clArr.push(s.set[s.index]),s.clArr.push(s.set[s.index+1]),s.handleClick()},s.handleUnkown=function(){s.unknown.push(s.set[s.index]),s.unknown.push(s.set[s.index+1]),s.handleClick()},s.handleClick=function(){s.increaseQuestion(),s.state.questionNum===parseInt(s.totalQuestion)&&s.trackPython(s.mlArr,s.clArr,s.unknown),J.getInstance().increaseIndex()},s.set=t.set,s.trackPython=t.python,s.totalQuestion=t.totalQuestion,s.totalPercent=t.totalPercent,s.pythonPass=t.pythonPass,s.mlArr=[],s.clArr=[],s.unknown=[],s.index=0,s.state={questionNum:1},s}return Object(j.a)(n,[{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(P.a,{children:[Object(s.jsx)(w.a,{children:Object(s.jsxs)(P.a,{className:"text-center",children:["Questions ",this.state.questionNum,"/",this.totalQuestion]})}),Object(s.jsxs)(w.a,{className:"align-middle align-items-center text-center mt-3",children:[Object(s.jsx)(P.a,{children:parseInt(this.totalPercent)>=100||!1===Boolean(this.pythonPass)?Object(s.jsx)(M.a,{onClick:this.handleMustLink,disabled:!0,children:"Must-Link"}):Object(s.jsx)(M.a,{onClick:this.handleMustLink,children:"Must-Link"})}),Object(s.jsx)(P.a,{children:parseInt(this.totalPercent)>=100||!1===Boolean(this.pythonPass)?Object(s.jsx)(M.a,{onClick:this.handleUnkown,disabled:!0,children:"Unknown"}):Object(s.jsx)(M.a,{onClick:this.handleUnkown,children:"Unknown"})}),Object(s.jsx)(P.a,{children:parseInt(this.totalPercent)>=100||!1===Boolean(this.pythonPass)?Object(s.jsx)(M.a,{onClick:this.handleCantLink,disabled:!0,children:"Cannot-Link"}):Object(s.jsx)(M.a,{onClick:this.handleCantLink,children:"Cannot-Link"})})]})]})})}}]),n}(a.Component),Y=n(70),$=n(121),G=n.n($),K=n(179),W=function(t){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h3",{children:t.number}),Object(s.jsx)("span",{className:"individTitleForStats",children:t.name})]})},Z=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(t){var s;return Object(l.a)(this,n),(s=e.call(this,t)).state={stats:t.stats},s}return Object(j.a)(n,[{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"containerNoPadding",children:[Object(s.jsxs)(w.a,{children:[Object(s.jsxs)(P.a,{className:"text-center",children:["Constraints",Object(s.jsxs)(w.a,{className:"lineForStats",children:[Object(s.jsx)(P.a,{xs:4,children:Object(s.jsx)(W,{number:this.state.stats.mlConstraintCount,name:"Must Link Constraints"})}),Object(s.jsx)(P.a,{xs:4,children:Object(s.jsx)(W,{number:this.state.stats.unknownConstraintCount,name:"Unknown Constraints"})}),Object(s.jsx)(P.a,{xs:4,children:Object(s.jsx)(W,{number:this.state.stats.clConstraintCount,name:"Can't Link Constraints"})})]})]}),Object(s.jsxs)(P.a,{className:"text-center",children:["Silhouette",Object(s.jsxs)(w.a,{children:[Object(s.jsx)(P.a,{xs:4,children:Object(s.jsx)(W,{number:this.state.stats.silMin,name:"Silhouette Minimum"})}),Object(s.jsx)(P.a,{xs:4,children:Object(s.jsx)(W,{number:this.state.stats.silAvg,name:"Silhouette Average"})}),Object(s.jsx)(P.a,{xs:4,children:Object(s.jsx)(W,{number:this.state.stats.silMax,name:"Silhouette Maximum"})})]})]})]}),Object(s.jsx)(w.a,{children:Object(s.jsxs)(P.a,{className:"text-center mt-3",children:["Constrained Percentage",Object(s.jsx)(w.a,{children:Object(s.jsx)(P.a,{className:"my-3",children:Object(s.jsx)(K.a,{striped:!0,animated:!0,variant:"primary",label:"".concat(this.state.stats.constrainedPercent,"%"),now:this.state.stats.constrainedPercent})})}),Object(s.jsxs)(w.a,{className:"",children:[Object(s.jsxs)(P.a,{xs:4,children:[Object(s.jsx)(w.a,{children:Object(s.jsx)(P.a,{children:Object(s.jsxs)("span",{children:[this.state.stats.maxConstraint,"%"]})})}),Object(s.jsx)(w.a,{children:Object(s.jsx)(P.a,{children:Object(s.jsx)("span",{className:"individTitleForStats",children:"Max Constraint Percent"})})})]}),Object(s.jsxs)(P.a,{xs:4,children:[Object(s.jsx)(w.a,{children:Object(s.jsx)(P.a,{children:Object(s.jsxs)("span",{children:[this.state.stats.totalConstraints,"/",this.state.stats.possibleConstraints]})})}),Object(s.jsx)(w.a,{children:Object(s.jsx)(P.a,{children:Object(s.jsx)("span",{className:"individTitleForStats",children:"Total Constraints Possible"})})})]}),Object(s.jsxs)(P.a,{xs:4,children:[Object(s.jsx)(w.a,{children:Object(s.jsx)(P.a,{children:Object(s.jsx)("span",{children:this.state.stats.constraintsLeft})})}),Object(s.jsx)(w.a,{children:Object(s.jsx)(P.a,{children:Object(s.jsx)("span",{className:"individTitleForStats",children:"Constraints Left"})})})]})]})]})})]})})}}]),n}(a.Component),tt=function(){var t=Object(Y.usePromiseTracker)().promiseInProgress;function e(t){try{return n(95)("./clusterImg"+t+".png").default}catch(e){console.log("Image Error")}}return Object(s.jsx)(s.Fragment,{children:!0===t?Object(s.jsx)("div",{children:Object(s.jsx)(G.a,{promiseTracker:Y.usePromiseTracker})}):Object(s.jsx)(it.Consumer,{children:function(t){return Object(s.jsxs)("div",{className:"mx-4 overflow-auto",children:[Object(s.jsx)(D,{text:t.errorMessage,show:t.error}),Object(s.jsxs)("div",{className:"outerBorders rowNoMargin topOuterBorder",children:[Object(s.jsx)(P.a,{}),Object(s.jsx)(P.a,{xs:3,children:Object(s.jsx)(R,{iteration:t.iterationCount,imgSrc:e(t.iterationCount)})}),Object(s.jsxs)(P.a,{children:[Object(s.jsxs)(w.a,{children:[Object(s.jsx)(P.a,{}),Object(s.jsxs)(P.a,{className:"text-center",children:["Options",Object(s.jsx)(w.a,{children:Object(s.jsx)(P.a,{children:Object(s.jsx)(x.b,{className:"fixLinkOverButtonHover",to:"/summary",children:Object(s.jsx)(M.a,{className:"btn-block mb-3 mt-2",variant:"danger",children:"Finish"})})})}),Object(s.jsx)(w.a,{children:Object(s.jsx)(P.a,{children:Object(s.jsx)(_,{})})})]})]}),Object(s.jsx)(w.a,{}),Object(s.jsx)(w.a,{})]})]}),Object(s.jsxs)("div",{className:"rowNoMargin",children:[Object(s.jsx)(P.a,{className:"outerBorders marginLeft0 lign-middle align-items-center",children:Object(s.jsx)(J,{dataArr:t.dataArr,set:t.output.question_set})}),Object(s.jsxs)(P.a,{className:"",children:[Object(s.jsx)(w.a,{className:"outerBordersNoneRight",children:Object(s.jsx)(X,{set:t.output.question_set,python:t.trackPython,totalQuestion:t.formInput.questionsPerIteration,totalPercent:t.stats.constrainedPercent,pythonPass:t.pythonPass})}),Object(s.jsx)(w.a,{className:"outerBordersNoneRight",children:Object(s.jsx)(Z,{stats:t.stats})})]})]})]})}})})},et=n(122),nt=n(123),st=n(124),at=function(t){Object(u.a)(a,t);var e=Object(d.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).zipImagesFolderAndDownload=function(){for(var t=new et,e=[],a=0;a<s.iterationCount;a++)e.push(n(95)("./clusterImg"+(a+1)+".png").default);Promise.all(e.map((function(e){return new Promise((function(n,s){nt.getBinaryContent(e,(function(a,r){a?s(a):(console.log(e),t.file(e.split("/")[3],r),n())}))}))}))).then((function(){t.generateAsync({type:"blob"}).then((function(t){Object(st.saveAs)(t,"images.zip")}))}))},s.iterationCount=t.iterationCount,s.state={stats:t.stats},s}return Object(j.a)(a,[{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"containerNoPadding",children:Object(s.jsxs)(w.a,{children:[Object(s.jsxs)(P.a,{className:"text-center",children:["Constrained Percentage",Object(s.jsx)(w.a,{children:Object(s.jsxs)(P.a,{children:[Object(s.jsx)(w.a,{children:Object(s.jsx)(P.a,{className:"my-3",children:Object(s.jsx)(K.a,{striped:!0,animated:!0,variant:"primary",label:"".concat(this.state.stats.constrainedPercent,"%"),now:this.state.stats.constrainedPercent})})}),Object(s.jsxs)(w.a,{className:"",children:[Object(s.jsxs)(P.a,{xs:4,children:[Object(s.jsx)(w.a,{children:Object(s.jsx)(P.a,{children:Object(s.jsxs)("span",{children:[this.state.stats.maxConstraint,"%"]})})}),Object(s.jsx)(w.a,{children:Object(s.jsx)(P.a,{children:Object(s.jsx)("span",{className:"individTitleForStats",children:"Max Constraint Percent"})})})]}),Object(s.jsxs)(P.a,{xs:4,children:[Object(s.jsx)(w.a,{children:Object(s.jsx)(P.a,{children:Object(s.jsxs)("span",{children:[this.state.stats.totalConstraints,"/",this.state.stats.possibleConstraints]})})}),Object(s.jsx)(w.a,{children:Object(s.jsx)(P.a,{children:Object(s.jsx)("span",{className:"individTitleForStats",children:"Total Constraints Possible"})})})]}),Object(s.jsxs)(P.a,{xs:4,children:[Object(s.jsx)(w.a,{children:Object(s.jsx)(P.a,{children:Object(s.jsx)("span",{children:this.state.stats.constraintsLeft})})}),Object(s.jsx)(w.a,{children:Object(s.jsx)(P.a,{children:Object(s.jsx)("span",{className:"individTitleForStats",children:"Constraints Left"})})})]})]})]})})]}),Object(s.jsxs)(P.a,{className:"text-center",children:["Constraints",Object(s.jsxs)(w.a,{className:"lineForStats mt-1",children:[Object(s.jsx)(P.a,{xs:4,children:Object(s.jsx)(W,{number:this.state.stats.mlConstraintCount,name:"Must Link Constraints"})}),Object(s.jsx)(P.a,{xs:4,children:Object(s.jsx)(W,{number:this.state.stats.unknownConstraintCount,name:"Unknown Constraints"})}),Object(s.jsx)(P.a,{xs:4,children:Object(s.jsx)(W,{number:this.state.stats.clConstraintCount,name:"Can't Link Constraints"})})]})]}),Object(s.jsxs)(P.a,{className:"text-center",children:["Silhouette",Object(s.jsxs)(w.a,{className:"mt-1",children:[Object(s.jsx)(P.a,{xs:4,children:Object(s.jsx)(W,{number:this.state.stats.silMin,name:"Silhouette Minimum"})}),Object(s.jsx)(P.a,{xs:4,children:Object(s.jsx)(W,{number:this.state.stats.silAvg,name:"Silhouette Average"})}),Object(s.jsx)(P.a,{xs:4,children:Object(s.jsx)(W,{number:this.state.stats.silMax,name:"Silhouette Maximum"})})]})]}),Object(s.jsxs)(P.a,{xs:2,className:"text-center",children:["Options",Object(s.jsx)(w.a,{children:Object(s.jsx)(P.a,{children:Object(s.jsx)("a",{className:"fixLinkOverButtonHover",href:n(170).default,download:"model.sav",children:Object(s.jsx)(M.a,{className:"btn-block mb-3 mt-2",children:"Export Model"})})})}),Object(s.jsx)(w.a,{children:Object(s.jsx)(P.a,{children:Object(s.jsx)(M.a,{className:"btn-block mb-3 mt-2",onClick:this.zipImagesFolderAndDownload,children:"Download Images"})})})]})]})})})}}]),a}(a.Component),rt=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(it.Consumer,{children:function(t){return Object(s.jsxs)("div",{className:"overflow-auto",children:[Object(s.jsx)("div",{className:"outerBorders rowNoMargin mx-4 mt-3",children:Object(s.jsx)(at,{stats:t.stats,iterationCount:t.iterationCount})}),Object(s.jsx)("div",{className:"rowNoMargin",children:Object(s.jsx)(P.a,{className:"noXPadding",children:Object(s.jsx)(Q,{iterationCount:t.iterationCount})})})]})}})})}}]),n}(a.Component);function ct(){return Object(s.jsx)(it.Consumer,{children:function(t){return Object(s.jsx)(x.a,{children:Object(s.jsx)("div",{children:Object(s.jsxs)(m.d,{children:[Object(s.jsx)(m.b,{exact:!0,path:"/",render:function(){return Object(s.jsx)(E,{})}}),Object(s.jsx)(m.b,{exact:!0,path:"/questions",render:function(){return t.inputVerified?Object(s.jsx)(tt,{}):(t.pythonRestart(),Object(s.jsx)(m.a,{to:"/"}))}}),Object(s.jsx)(m.b,{exact:!0,path:"/summary",render:function(){return t.inputVerified?Object(s.jsx)(rt,{}):Object(s.jsx)(m.a,{to:"/"})}})]})})})}})}n(171);var it=r.a.createContext({dataArr:null,iterationCount:null,formInput:null,inputVerified:null,pythonPass:null,error:null,errorMessage:"",output:I,stats:N,saveData:function(){},trackPython:function(){},saveForm:function(){},verifiedInput:function(){},pythonRestart:function(){}}),ot=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(t){var s;return Object(l.a)(this,n),(s=e.call(this,t)).trackPython=function(t,e,n){Object(Y.trackPromise)(s.runPython(t,e,n))},s.runPython=function(t,e,n){return new Promise((function(a){var r,c=new FormData;r="http://localhost:3000"===window.location.origin?"http://localhost:4500":window.location.origin,console.log(r),c.append("filename",s.state.formInput.filename),c.append("interation_num",s.state.iterationCount+1),s.setState({iterationCount:s.state.iterationCount+1}),c.append("question_num",s.state.formInput.questionsPerIteration),c.append("cluster_num",s.state.formInput.numberOfClusters);var i,l=s.state.formInput.ml.concat(t),j=s.state.formInput.cl.concat(e),u=s.state.formInput.unknown.concat(n);c.append("ml",l),c.append("cl",j),c.append("unknown",u),s.setState({formInput:Object(o.a)(Object(o.a)({},s.state.formInput),{},{ml:l,cl:j,unknown:u})}),a(b.a.post(r+"/python",c,{}).then((function(t){i=t.data.name;var e=s.state.formInput,n=i.split("SEPERATOR");2===parseInt(i)?s.handleMissingDataErrors("There was a constraint conflict. The tool can no longer improve."):3===parseInt(n[3])?s.handleMissingDataErrors("Due to the chosen constraints, the tool was unable to find "+s.state.formInput.questionsPerIteration+" questions. The tool can no longer improve."):(s.setState({stats:new N(e.cl.length,e.ml.length,e.unknown.length,e.maxConstraintPercent,s.state.dataArr.data.length,n[1],n[2],n[0])}),s.setState({output:new I(n[3].trim())}),s.errorFalse())})).catch((function(t){1===parseInt(i)&&(s.setState({inputVerified:!1}),s.setState({errorMessage:"The dataset that was uploaded had categorical information. The tool can only handle numbers at this time."}))})))}))},s.handleMissingDataErrors=function(t){s.setState({iterationCount:s.state.iterationCount-1}),s.setState({pythonPass:!1}),s.setState({error:!0}),s.setState({errorMessage:t})},s.saveData=function(t){s.setState({dataArr:t})},s.verifiedInput=function(){s.setState({inputVerified:!0})},s.pythonRestart=function(){s.setState({iterationCount:0}),s.setState({error:!0}),s.setState({pythonPass:!0})},s.errorFalse=function(){s.setState({error:!1})},s.saveForm=function(t){s.setState({formInput:t})},s.state={dataArr:null,iterationCount:0,formInput:null,inputVerified:!1,pythonPass:!0,error:!1,errorMessage:"",output:"",stats:"",saveData:s.saveData,trackPython:s.trackPython,saveForm:s.saveForm,verifiedInput:s.verifiedInput,pythonRestart:s.pythonRestart},s}return Object(j.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(it.Provider,{value:this.state,children:Object(s.jsx)(ct,{})})})}}]),n}(a.Component),lt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,180)).then((function(e){var n=e.getCLS,s=e.getFID,a=e.getFCP,r=e.getLCP,c=e.getTTFB;n(t),s(t),a(t),r(t),c(t)}))};i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(ot,{})}),document.getElementById("root")),lt()},95:function(t,e,n){var s={"./clusterImg1.png":153,"./clusterImg2.png":154,"./clusterImg3.png":155,"./clusterImg4.png":156,"./clusterImg5.png":157,"./clusterImg6.png":158,"./clusterImg7.png":159};function a(t){var e=r(t);return n(e)}function r(t){if(!n.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}a.keys=function(){return Object.keys(s)},a.resolve=r,t.exports=a,a.id=95}},[[172,1,2]]]);
//# sourceMappingURL=main.cec781b4.chunk.js.map